<!DOCTYPE html>
<html lang="en">
<head>
    <title>MycoCode Download</title>
    <script>
        function downloadPDF(param) {
            param = parseInt(param);

            // Make AJAX request to your Java backend
            //fetch('/generate-pdf?param=' + param)
            fetch('/generate-pdf?count=' + param)
                .then(response => response.blob())
                .then(blob => {
                    // Create a temporary link element
                    const link = document.createElement('a');
                    link.href = URL.createObjectURL(blob);
                    link.download = 'qr_slips.pdf'; // Set the download filename
                    // Programmatically click the link
                    link.click();
                    // Clean up the temporary link
                    URL.revokeObjectURL(link.href);
                })
                .catch(error => {
                    console.error('Error downloading PDF:', error);
                });
        }
    </script>
</head>
<body>
<img src="logo.jpg" alt="MycoCode Logo" style="display: block; margin: 0 auto;">
<br>
Labels for the <a href="https://mycoblitz.org">2024 Continental Mycoblitz</a> hosted by Mycota Lab. Personal vouchers <a href="index.html">here</a>.
<hr>
<br>
<label for="slipCount">Number of Slips</label><select id="slipCount">
    <option value="1">1</option>
    <option value="8" selected>8</option>
    <option value="16">16</option>
    <option value="32">32</option>
    <option value="48">48</option>
</select>
<br>

<p>Slips per page:</p>
<input type="radio" id="slipsPerPage2" name="slipsPerPage" value="2" checked>
<label for="slipsPerPage2">2</label>
<br>
<input type="radio" id="slipsPerPage4" name="slipsPerPage" value="4" disabled>
<label for="slipsPerPage4">4</label>
<br>
<button onclick="downloadPDF(document.getElementById('slipCount').value)">Download QR Slips</button -->
<br>
<br>
<hr>
<!-- button onclick="downloadPDF(3)">Download QR Slips</button -->
<img src="directions.png" alt="Directions guide">
</body>
</html>